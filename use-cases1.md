**Общие положения**

Взаимодействие бэкенд и фронтенд.

Подразумевается 3 компонента:

Бекенд – реализует механизм поиска, авторизации

На беке так же реализована БД - хранит данные о пользователях, данные о переписке, метадокументы,

Фронтенд – забирает данные с бека про пользователей, запрашивает историю сообщений, отображает

Админская часть фронтенда – создание пользователей, экспорт, удаление, редактирование прав.

На фронте должно быть несколько клиентов – iOS, Android, Web.

#
# Создание сообщения

**Акторы:**

- Основной пользователь

**Цель:**  создать и отправить информационное сообщение группе пользоавтелей

** Предусловия:**  Нахождение внутри чата приложения

**Сценарий:**

1. В нижней части экрана чата находится курсор, который обозначает место ввода сообщения
2. Основной пользователь добавляет Файл только в первую очередь (до ввода текста)
3. Основной пользователь вводит сообщение с помощью клавиатуры
4. Основной пользователь добавляет стикер, стикер автоматически отправляется (только стикер, в поле мог быть введен текст)
5. Основной пользователь добавляет смайл в любой части текстового сообщения, выбрав знак смайла на клавиатуре(iOS, Android) или нажав на значок смайла (web)
6. Основной пользователь отправляет сообщение нажав на значок Отправить
7. Бекенд возвращает ответ успешного отправления сообщения, отображается на фронтенде в виде флага сбоку от сообщения
8. Бекенд возвращает ответ просмотра сообщения получателем, отображается на фронтенде в виде второго флага сбоку от сообщения

**Результат:**

- В базу данных добавлено новое сообщение в чат.
- Сообщение отображено участникам чата.

**Исключения:**

1. На шаге 7 сообщение может быть не доставлено, отображается знак отправки, флаг не отображается
2. На шаге 8 сообщение может быть не просмотрено, флаг не отображается

**Альтернативный сценарий:**

1. Шаги 2-5 опциональны. Для отправки должен выполниться хотя бы один шаг.

#
# Редактирование одного сообщения

**Акторы:**

- Основной пользователь
- Администратор чата

**Цель:**  удалить информационное сообщение отправленное группе пользотелей

** Предусловия:**  Нахождение внутри чата приложения

**Сценарий:**

1. Основной пользователь нажимает правую кнопку мыши на своем сообщении и в меню выбирает  Удалить(Web) или

Основной пользователь нажимает на свое сообщение и во всплывающем меню выбирает Удалить (iOS, Android)

1. Основной пользователь нажимает на кнопку сохранения
2. Бекенд возвращает ответ успешного отправления сообщения, отображается на фронтенде в виде флага сбоку от сообщения
3. Бекенд возвращает ответ просмотра сообщения получателем, отображается на фронтенде в виде второго флага сбоку от сообщения

**Результат:**

- В базе данных изменено сообщение.
- Сообщение отображено участникам чата.

**Исключения:**

1. На шаге 3 сообщение может быть не доставлено, отображается знак отправки, флаг не отображается
2. На шаге 4 сообщение может быть не просмотрено, флаг не отображается

#
# Удаление одного сообщения

**Акторы:**

- Основной пользователь

**Цель:**  редактировать информационное сообщение отправленное группе пользотелей

** Предусловия:**  Нахождение внутри чата приложения

**Сценарий:**

1. Основной пользователь нажимает правую кнопку мыши на своем сообщении и в меню выбирает  Редактировать(Web) или

Основной пользователь нажимает на сообщение и во всплывающем меню выбирает Редактировать (iOS, Android) или

нажимает Delete на клавиатуре(Web)

1. Основной пользователь выбирает сообщение удаляется для всех или только в своем чате.
2. Бекенд возвращает ответ успешного отправления сообщения, отображается на фронтенде отсутствие сообщения

**Результат:**

- В базе данных удалено сообщение.
- Сообщение не отображается в чате.

**Исключения:**

1. На шаге 3 может не прийти успешный ответ, выводится сообщение – «Сообщение не может быть удалено»

**Альтернативный сценарий:**

1. На шаге 1 администратор может удалять не только свое сообщение